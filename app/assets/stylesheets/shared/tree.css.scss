$indentation: 20px;

.section-number {
  min-width: 15px;
  display: inline-block;
}

.pure-menu-heading.tree-heading {
  padding: 10px 15px;
}

ul.tree {
  margin: 5px 0 !important;

  &, ul {
    list-style:none;
    margin:0;
    padding:0;
  }

  ul {
    margin-left: $indentation;
    position: relative;

    &:before {
      content: "";
      display: block;
      width: 0;
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      border-left: 1px dotted #999;
    }

    li {
      margin: 0;
      padding-left: #{$indentation - 8px}; /* indentation + 2 */
      line-height: 20px; /* default list item `line-height` */
      position: relative;

      &:before {
        content: "";
        display: block;
        width: #{$indentation - 10px}; /* same with indentation */
        height: 0;
        border-top: 1px dotted #999;
        position: absolute;
        top: 16px;
        left: 0;
      }

      &:last-child:before {
        background:white; /* same with body background */
        height:auto;
        top:16px; /* (line-height/2) */
        bottom:0;
      }
    }
  }

  li {
    padding-left: 10px;
  }
}

.pure-menu {
  ul.tree, .tree ul {
    visibility: visible;
    left: auto;
    top: auto;

    li a {
      padding: 5px;
    }
  }
}
